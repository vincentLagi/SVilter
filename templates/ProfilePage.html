<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='ProfilePageStyle.css')}}">
    <title>Profile Page</title>
</head>

<body id="body">
    <nav id="navbar">
        <h1 id="navbar-logo" onclick="window.location.href='/home'">Filtert</h1>
        <a id="navbar-signup" href="/profile">{{session['username']}}</a>
    </nav>

    <div id="main-container">
        <div id="main-content">

            <img id="main-image" src="{{ url_for('static', filename='image/Profile.png')}}" alt="">

            <div id="main-parttwo">
                <div id="main-parttwo-content">

                    <h1 id="main-text1">Hi i am</h1>
                    <h1 id="main-text2">{{session['username']}}</h1>
                    <!-- <button id="main-reg-button"
                        onclick="window.location.href='/registerface/{{ session['id'] }}'">Register YourFace</button> -->
                    <button id="main-reg-button"
                        onclick=openModal()>Register
                        YourFace</button>
                    <button id="main-logout-button" onclick="window.location.href='/logout'">Log Out</button>
                </div>
            </div>
            <div id="imageModal" class="modal-reg">
                <div class="modal-content-reg">
                    <div class="modal-header">
                        <p>Register Your Face</p>
                        <span class="close" onclick="closeModal()">&times;</span>
                    </div>
                    <p class="modal-content-reg-p"></p>
                    <div class="modal-body">
                        <div class="image-container">
                            <h2>Smile and place your face in the middle</h2>
                            <img src="{{ url_for('register_face_video_feed') }}" width="100%" height="400px"
                                id="face_video_feed">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script>
    closeModal()

    function openModal() {
        document.getElementById("imageModal").style.display = "flex";
    }

    function closeModal() {
        document.getElementById("imageModal").style.display = "none";
    }

    window.onclick = function (event) {
        var modal = document.getElementById("imageModal");
        if (event.target === modal) {
            closeModal();
        }
    };
</script>

</html>